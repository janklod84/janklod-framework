<?php 

/*
|----------------------------------------------------------------------
|   Check compatibility php version user with that used application
|----------------------------------------------------------------------
*/

if(!version_compare(PHP_VERSION, '7.1', '>='))
{
   exit(
     'This application use <b> version php >= 7.1 </b>.
      But your version php is <b> '. PHP_VERSION . '</b>'
  );
}


/*
|-------------------------------------------------------------------
|    Route Directory of Application
|    Root directory specifly  dirname(__DIR__) or [../]
|-------------------------------------------------------------------
*/

// define('ROOT', realpath(__DIR__.'/../'));



/*
|-------------------------------------------------------------------
|    Create new application
|-------------------------------------------------------------------
*/

$app = \JK\Foundation\Application::instance(
  realpath(__DIR__.'/../')
);



/*
|-------------------------------------------------------------------
|    Binds importantes interfaces
|-------------------------------------------------------------------
*/

$app->singleton('console', function () use($app) {
   return $app->make(JK\Console\Console::class, [
     $app->file->to('routes/console.php')
   ]);
});

// ...

/*
|-------------------------------------------------------------------
|    Return instance of application
|-------------------------------------------------------------------
*/

return $app;


/*
|-------------------------------------------------------------------
|    Start session
|-------------------------------------------------------------------
*/

/*
$app->session();



/*
|-------------------------------------------------------------------
|    Initialize all Functions of Application
|-------------------------------------------------------------------
*/
/*
$app->loadFunctions();



/*
|-------------------------------------------------------------------
|   Loading all alias
|-------------------------------------------------------------------
*/
/*
$app->loadAlias();




/*
|-------------------------------------------------------------------
|   Loading all providers
|-------------------------------------------------------------------
*/
/*
$app->loadProviders();


/*
|-------------------------------------------------------------------
|   Includes any needed files 
|-------------------------------------------------------------------
*/
/*
$app->file->calls([
	'routes/app.php',
	'routes/Test.php'
]);



/*
|-------------------------------------------------------------------
|   Add all collections routes
|-------------------------------------------------------------------
*/

/*
$app->router->addRoutes(
	\JK\Routing\Route\RouteCollection::all()
);

*/

